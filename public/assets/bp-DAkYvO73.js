import{u as g,j as e,c as w,R as N}from"./liveState-SFrxi-3W.js";const v=a=>({teamA:{bans:Array.from({length:a},()=>""),picks:Array.from({length:5},(t,l)=>({pos:["上","野","中","射","辅"][l],hero:"",player:""}))},teamB:{bans:Array.from({length:a},()=>""),picks:Array.from({length:5},(t,l)=>({pos:["上","野","中","射","辅"][l],hero:"",player:""}))}}),y=({transparent:a})=>{const{state:t,connected:l,error:d}=g();if(!t)return e.jsx("div",{className:`w-full h-screen flex items-center justify-center ${a?"bg-transparent":"bg-background-dark"} text-white`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"正在加载 BP..."}),d?e.jsx("div",{className:"text-sm text-red-400 mt-2",children:d}):null]})});const f=String(t.match.current_game_no),s=t.games[f],i=(s==null?void 0:s.bp)??v(t.match.ban_count);return e.jsxs("div",{className:`w-full h-screen flex flex-col ${a?"bg-transparent":"bg-background-dark"} text-white font-display overflow-hidden`,children:[e.jsxs("header",{className:"h-[120px] shrink-0 w-full bg-[#151b28] border-b border-white/5 flex items-center justify-between px-10 relative z-20",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-3xl font-black tracking-tight",children:t.match.title}),e.jsxs("p",{className:"text-white/60 text-sm font-medium tracking-widest uppercase mt-1",children:["BO",t.match.best_of," · 第 ",t.match.current_game_no," 局"]})]}),e.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-8",children:[e.jsx("div",{className:"text-5xl font-bold text-esports-red",children:t.match.score_a}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"px-3 py-1 bg-white/10 rounded text-xs font-bold tracking-widest mb-1 text-white/80",children:"比分"}),e.jsx("div",{className:"text-xl font-bold text-white uppercase tracking-wider",children:"VS"})]}),e.jsx("div",{className:"text-5xl font-bold text-esports-blue",children:t.match.score_b})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${l?"bg-green-500/20 text-green-200":"bg-red-500/20 text-red-200"}`,children:l?"LIVE":"OFFLINE"}),s!=null&&s.bp_locked?e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-yellow-500/20 text-yellow-200",children:"已锁定"}):null]})]}),e.jsx("main",{className:"flex flex-1 w-full",children:["A","B"].map(r=>{const n=t.teams[r],x=r==="A"?i.teamA:i.teamB,m=r==="A"?"text-esports-red":"text-esports-blue",p=r==="A"?"border-esports-red":"border-esports-blue",j=r==="A"?"border-esports-red/40":"border-esports-blue/40",u=r==="A"?"border-esports-red/30":"border-esports-blue/30";return e.jsxs("section",{className:"flex-1 flex flex-col p-6 gap-4 bg-[#101622]/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-4xl font-black italic tracking-tight",children:e.jsx("span",{className:m,children:n.name||(r==="A"?"红队":"蓝队")})}),n.logo_url?e.jsx("img",{className:"w-12 h-12 object-contain",src:n.logo_url}):e.jsx("div",{className:`w-12 h-12 rounded-full border ${j} bg-white/5`})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 flex-1",children:x.picks.map((c,o)=>e.jsxs("div",{className:`relative flex items-center bg-[#1a202c] rounded-xl overflow-hidden border-l-4 ${p}`,children:[e.jsx("div",{className:"w-24 h-full flex items-center justify-center bg-black/20 text-white/30 text-sm font-bold",children:c.pos}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center px-4",children:[e.jsx("p",{className:"text-2xl font-black text-white leading-none",children:c.hero||"等待选择"}),e.jsx("p",{className:`text-base font-medium mt-1 ${m}`,children:c.player||"选手待定"})]})]},o))}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs font-bold uppercase text-white/40 tracking-widest",children:"Ban"}),e.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:x.bans.map((c,o)=>e.jsx("div",{className:`h-16 w-16 rounded bg-[#1a202c] border ${u} flex items-center justify-center text-xs text-white/70`,children:c||"空"},o))})]})]},r)})}),e.jsxs("footer",{className:"h-[80px] w-full bg-[#0c1018] border-t border-white/5 flex items-center justify-between px-10 text-sm text-white/60",children:[e.jsxs("span",{children:["状态：",s!=null&&s.bp_locked?"已锁定":"等待发布 / 可编辑"]}),e.jsxs("span",{children:["数据源：",l?"实时连接":"断线重连中"]})]})]})},h=document.getElementById("root");if(!h)throw new Error("Root element not found");const k=new URLSearchParams(window.location.search),b=k.get("transparent")==="1";b&&(document.body.classList.remove("bg-background-dark"),document.body.classList.add("bg-transparent"));w.createRoot(h).render(e.jsx(N.StrictMode,{children:e.jsx(y,{transparent:b})}));
