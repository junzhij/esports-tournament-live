import{u as h,a as p,j as e,c as b,R as u}from"./useMatchTimer-BBrxC38U.js";const g=a=>({teamA:{bans:Array.from({length:a},()=>""),picks:Array.from({length:5},(s,t)=>({pos:["上","野","中","射","辅"][t],hero:"",player:""}))},teamB:{bans:Array.from({length:a},()=>""),picks:Array.from({length:5},(s,t)=>({pos:["上","野","中","射","辅"][t],hero:"",player:""}))}}),f=({transparent:a})=>{const{state:s,connected:t,error:c}=h(),x=p((s==null?void 0:s.match)??null);if(!s)return e.jsx("div",{className:`w-full h-screen flex items-center justify-center ${a?"bg-transparent":"bg-background-dark"} text-white`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"Overlay 加载中..."}),c?e.jsx("div",{className:"text-sm text-red-400 mt-2",children:c}):null]})});const m=String(s.match.current_game_no),d=s.games[m],i=(d==null?void 0:d.bp)??g(s.match.ban_count);return e.jsxs("div",{className:`w-full h-screen relative ${a?"bg-transparent":"bg-background-dark"} text-white font-display overflow-hidden`,children:[e.jsx("header",{className:"absolute top-0 left-0 w-full h-[120px] flex justify-center items-start pt-4 z-50",children:e.jsxs("div",{className:"flex items-center bg-background-dark/95 border-b-2 border-primary/50 shadow-2xl rounded-b-xl px-12 py-3 backdrop-blur-md relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-esports-red via-white to-esports-blue opacity-80"}),e.jsxs("div",{className:"flex items-center gap-6 pr-12 border-r border-white/10",children:[e.jsx("div",{className:"flex flex-col items-end",children:e.jsx("h2",{className:"text-2xl font-bold uppercase tracking-wider text-red-200",children:s.teams.A.name||"红队"})}),s.teams.A.logo_url?e.jsx("img",{className:"size-16 rounded-full object-contain bg-black/20",src:s.teams.A.logo_url}):e.jsx("div",{className:"size-16 rounded-full bg-red-900/40 border border-red-500/40"})]}),e.jsxs("div",{className:"flex flex-col items-center px-12 relative",children:[e.jsxs("div",{className:"text-6xl font-black leading-none tracking-tighter flex items-center gap-4",children:[e.jsx("span",{className:"text-esports-red",children:s.match.score_a}),e.jsx("span",{className:"text-white/20 text-4xl",children:"-"}),e.jsx("span",{className:"text-esports-blue",children:s.match.score_b})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"bg-primary/20 text-primary px-2 py-0.5 rounded text-xs font-bold uppercase border border-primary/30",children:["BO",s.match.best_of]}),e.jsxs("span",{className:"text-gray-400 text-xs font-medium",children:["Game ",s.match.current_game_no," · ",x]})]})]}),e.jsxs("div",{className:"flex items-center gap-6 pl-12 border-l border-white/10",children:[s.teams.B.logo_url?e.jsx("img",{className:"size-16 rounded-full object-contain bg-black/20",src:s.teams.B.logo_url}):e.jsx("div",{className:"size-16 rounded-full bg-blue-900/40 border border-blue-500/40"}),e.jsx("div",{className:"flex flex-col items-start",children:e.jsx("h2",{className:"text-2xl font-bold uppercase tracking-wider text-blue-200",children:s.teams.B.name||"蓝队"})})]})]})}),e.jsxs("aside",{className:"absolute top-[140px] right-4 w-[340px] flex flex-col gap-4 pb-4",children:[e.jsxs("div",{className:"bg-background-dark/90 backdrop-blur-md rounded-lg overflow-hidden border border-white/5 shadow-lg",children:[e.jsxs("div",{className:"bg-gradient-to-r from-background-dark to-primary/20 px-4 py-2 border-b border-white/10 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-sm tracking-widest uppercase text-white/90",children:"BP 摘要"}),e.jsx("span",{className:"material-symbols-outlined text-white/50 text-sm",children:"grid_view"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-red-400 uppercase",children:"红队 Picks"}),e.jsx("span",{className:"size-2 bg-esports-red rounded-full"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 text-xs text-white/70",children:i.teamA.picks.map((r,l)=>e.jsxs("div",{className:"bg-white/5 rounded px-2 py-1 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/45 uppercase",children:r.pos||`P${l+1}`}),e.jsx("span",{className:"text-esports-red/80",children:r.player||"选手待定"})]}),e.jsx("div",{className:"mt-0.5 text-white",children:r.hero||"英雄未选"})]},l))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-blue-400 uppercase",children:"蓝队 Picks"}),e.jsx("span",{className:"size-2 bg-esports-blue rounded-full"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 text-xs text-white/70",children:i.teamB.picks.map((r,l)=>e.jsxs("div",{className:"bg-white/5 rounded px-2 py-1 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/45 uppercase",children:r.pos||`P${l+1}`}),e.jsx("span",{className:"text-esports-blue/80",children:r.player||"选手待定"})]}),e.jsx("div",{className:"mt-0.5 text-white",children:r.hero||"英雄未选"})]},l))})]})]})]}),e.jsxs("div",{className:"bg-background-dark/90 backdrop-blur-md rounded-lg overflow-hidden border border-white/5 shadow-lg",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-white/10 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-sm tracking-widest uppercase text-white/90",children:"连接状态"}),e.jsx("span",{className:`text-xs font-bold ${t?"text-green-300":"text-red-300"}`,children:t?"LIVE":"OFF"})]}),e.jsx("div",{className:"p-3 text-xs text-white/60",children:t?"实时更新中":"正在重连..."})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 w-[600px] h-[40px] bg-background-dark/80 backdrop-blur-sm rounded-full flex items-center justify-between px-6 border border-white/5 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider",children:"LIVE"}),e.jsx("div",{className:"size-1.5 bg-esports-red rounded-full animate-ping"})]}),e.jsxs("div",{className:"text-xs text-gray-300 font-medium",children:[s.match.title," · BO",s.match.best_of]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["第 ",s.match.current_game_no," 局"]})]})]})},n=document.getElementById("root");if(!n)throw new Error("Root element not found");const j=new URLSearchParams(window.location.search),o=j.get("transparent")!=="0";o&&document.body.classList.add("bg-transparent");b.createRoot(n).render(e.jsx(u.StrictMode,{children:e.jsx(f,{transparent:o})}));
